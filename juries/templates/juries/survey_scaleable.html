{% extends 'juries/base.html' %}
{% load staticfiles %}


{% block content %}


<nav class="navbar navbar-expand-sm fixed-bottom panel justify-content-end">
	<button class="btn btn-lg btn-secondary" disabled id="continue">Continue when completed</button>
</nav>

<main class="flex-shrink-0" role="main">
	<section class="container-fluid">
		<h3>Please complete the survey before continuing</h3>

		<form>
			<div class="form-group">
				<label for="scaleable1">This process is an effective way to protect users from unwanted or toxic content.</label>

				<div class="btn-group btn-group-sm" role="group" id="scaleable1">
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Neutral</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Agree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly agree</button>
				</div>
			</div>

			<div class="form-group">
				<label for="scaleable2">This process cares about my preferences.</label>

				<div class="btn-group btn-group-sm" role="group" id="scaleable2">
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Neutral</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Agree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly agree</button>
				</div>
			</div>

			<div class="form-group">
				<label for="scaleable3">This process is fair.</label>

				<div class="btn-group btn-group-sm" role="group" id="scaleable3">
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Neutral</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Agree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly agree</button>
				</div>
			</div>

			<div class="form-group">
				<label for="scaleable4">This process values individual voices equally.</label>

				<div class="btn-group btn-group-sm" role="group" id="scaleable4">
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Neutral</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Agree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly agree</button>
				</div>
			</div>

			<div class="form-group">
				<label for="scaleable5">This process improves my trust in content moderation decisions.</label>

				<div class="btn-group btn-group-sm" role="group" id="scaleable5">
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Neutral</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Agree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly agree</button>
				</div>
			</div>

			<div class="form-group">
				<label for="scaleable6">This process feels like a legitimate exercise of power.</label>

				<div class="btn-group btn-group-sm" role="group" id="scaleable6">
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Disagree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Neutral</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Agree</button>
					<button type="button" class="btn btn-outline-warning" data-toggle="button" aria-pressed="false" autocomplete="off">Strongly agree</button>
				</div>
			</div>

			<button type="submit" class="btn btn-primary" id="submit">Submit</button>
		</form>
	</section>

</main>

{% endblock %}


{% block js %}

<script>

	var id = getParameterByName('id');
	var group = getParameterByName('group');
	var condition = getParameterByName('condition');

	$('#submit').on('click', function() {

		var scaleable1 = $('#scaleable1').val();
		var scaleable2 = $('#scaleable2').val();
		var scaleable3 = $('#scaleable3').val();
		var scaleable4 = $('#scaleable4').val();
		var scaleable5 = $('#scaleable5').val();
		var scaleable6 = $('#scaleable6').val();
		var id = getParameterByName('id');

		var csrf = $('#csrf').text();
		var data = {csrfmiddlewaretoken: csrf,
					scaleable1: scaleable1,
					scaleable2: scaleable2,
					scaleable3: scaleable3,
					scaleable4: scaleable4,
					scaleable5: scaleable5,
					scaleable6: scaleable6,
					id: id};
		$.ajax({
			type: 'POST',
			url: '/scaleablesurvey_post',
			data: data,
			success: function(data) {
				$('#continue').prop('disabled', false);
				$('#continue').removeClass('btn-secondary');
				$('#continue').addClass('btn-primary');

				var next_url = data.url;
				$('#continue').on('click', function() {
					window.location = next_url + '&id=' + id;
				});
			}
		});
		return false;
	});

</script>

{% endblock %}
