{% extends 'juries/base.html' %}
{% load staticfiles %}


{% block content %}

<nav class="navbar navbar-expand-sm fixed-bottom panel justify-content-end">
	<button class="btn btn-lg btn-primary" id="continue">Continue when completed</button>
</nav>

<main class="flex-shrink-0" role="main">
		<!-- <div class="embed-responsive embed-responsive-16by9">
				<iframe class="embed-responsive-item" src="https://docs.google.com/forms/d/e/1FAIpQLSekHKntKQ52XiI6EZ0YT5DDwAGpMVxtDqI9kcuBiptzlPYFkA/viewform?embedded=true">Loading...</iframe>
		</div> -->
<section class="container">
	<h3>Please complete the survey before continuing</h3>

	<hr />

	<p>In this round, the Jury Process you saw was <b class="yellow">Automatic Decision (No Jury)</b>, determined by a computer algorithm operated by a social media platform. You did not provide any input into this decision in this round.</p>

	<p>In answering the questions below, please evaluate your opinions on the process by which this outcome was reached.</p>

	<img src={% static "juries/img/jury_control.png" %} alt="Jury process" class="featured" />

	<hr />

	<form class="survey question">

		<div class="form-group">
			<label for="control_difficulty">Did you have any difficulties making a decision for this case?<label>
			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control_difficulty">
				<label class="btn btn-outline-warning"><input type="radio" name="optionsA" value="1" autocomplete="off"> Not at all</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsA" value="2" autocomplete="off"> A Little</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsA" value="3" autocomplete="off"> Moderately</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsA" value="4" autocomplete="off"> Somewhat</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsA" value="5" autocomplete="off"> Very Much</label>
			</div>
		</div>

		<div class="form-group">
			<label for="control_time">Did you feel any time constraints with this process?<label>
			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control_time">
				<label class="btn btn-outline-warning"><input type="radio" name="optionsB" value="1" autocomplete="off"> Not at all</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsB" value="2" autocomplete="off"> A Little</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsB" value="3" autocomplete="off"> Moderately</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsB" value="4" autocomplete="off"> Somewhat</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsB" value="5" autocomplete="off"> Very Much</label>
			</div>
		</div>

		<div class="form-group">
			<label for="control_satisfaction">How satisfied are you with the automated decision?</label>

			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control_satisfaction">
				<label class="btn btn-outline-warning"><input type="radio" name="optionsC" value="1" autocomplete="off"> Not at all</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsC" value="2" autocomplete="off"> A Little</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsC" value="3" autocomplete="off"> Moderately</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsC" value="4" autocomplete="off"> Somewhat</label>
				<label class="btn btn-outline-warning"><input type="radio" name="optionsC" value="5" autocomplete="off"> Very Much</label>
			</div>
		</div>

		<h3>Please reflect upon the <span class="yellow">process</span> for reaching the automated <span class="yellow">outcome</span>.</h3>

		<div class="form-group">
			<label for="control1">This process is an effective way to protect users from unwanted or toxic content.</label>

			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control1">
				<label class="btn btn-outline-warning"><input type="radio" name="options1" value="1" autocomplete="off"> Strongly Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options1" value="2" autocomplete="off"> Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options1" value="3" autocomplete="off"> Neutral</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options1" value="4" autocomplete="off"> Agree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options1" value="5" autocomplete="off"> Strongly Agree</label>
			</div>
		</div>

		<div class="form-group">
			<label for="control2">This process cares about my preferences.</label>

			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control2">
				<label class="btn btn-outline-warning"><input type="radio" name="options2" value="1" autocomplete="off"> Strongly Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options2" value="2" autocomplete="off"> Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options2" value="3" autocomplete="off"> Neutral</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options2" value="4" autocomplete="off"> Agree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options2" value="5" autocomplete="off"> Strongly Agree</label>
			</div>
		</div>

		<div class="form-group">
			<label for="control3">This process is fair.</label>

			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control3">
				<label class="btn btn-outline-warning"><input type="radio" name="options3" value="1" autocomplete="off"> Strongly Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options3" value="2" autocomplete="off"> Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options3" value="3" autocomplete="off"> Neutral</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options3" value="4" autocomplete="off"> Agree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options3" value="5" autocomplete="off"> Strongly Agree</label>
			</div>
		</div>

		<div class="form-group">
			<label for="control4">This process values individual voices equally.</label>

			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control4">
				<label class="btn btn-outline-warning"><input type="radio" name="options4" value="1" autocomplete="off"> Strongly Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options4" value="2" autocomplete="off"> Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options4" value="3" autocomplete="off"> Neutral</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options4" value="4" autocomplete="off"> Agree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options4" value="5" autocomplete="off"> Strongly Agree</label>
			</div>
		</div>

		<div class="form-group">
			<label for="control5">This process improves my trust in how content moderation decisions are made.</label>

			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control5">
				<label class="btn btn-outline-warning"><input type="radio" name="options5" value="1" autocomplete="off"> Strongly Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options5" value="2" autocomplete="off"> Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options5" value="3" autocomplete="off"> Neutral</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options5" value="4" autocomplete="off"> Agree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options5" value="5" autocomplete="off"> Strongly Agree</label>
			</div>
		</div>

		<div class="form-group">
			<label for="control6">This process feels like a legitimate exercise of the social media platform's power.</label>

			<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="control6">
					<label class="btn btn-outline-warning"><input type="radio" name="options6" value="1" autocomplete="off"> Strongly Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options6" value="2" autocomplete="off"> Disagree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options6" value="3" autocomplete="off"> Neutral</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options6" value="4" autocomplete="off"> Agree</label>
				<label class="btn btn-outline-warning"><input type="radio" name="options6" value="5" autocomplete="off"> Strongly Agree</label>
			</div>
		</div>

		<!-- <button type="submit" class="btn btn-primary" id="submit">Submit</button> -->
	</form>
</section>

</main>

{% endblock %}

{% block js %}

<script>

	$('#continue').on('click', function() {

		var control_difficulty = $('#control_difficulty input[name=optionsA]:checked').val();
		var control_time = $('#control_time input[name=optionsB]:checked').val();
		var control_satisfaction = $('#control_satisfaction input[name=optionsC]:checked').val();
		var control1 = $('#control1 input[name=options1]:checked').val();
		var control2 = $('#control2 input[name=options2]:checked').val();
		var control3 = $('#control3 input[name=options3]:checked').val();
		var control4 = $('#control4 input[name=options4]:checked').val();
		var control5 = $('#control5 input[name=options5]:checked').val();
		var control6 = $('#control6 input[name=options6]:checked').val();
		var id = getParameterByName('id');
		var round = getParameterByName('round');

		var csrf = $('#csrf').text();
		var data = {csrfmiddlewaretoken: csrf,
					control_difficulty: control_difficulty,
					control_time: control_time,
					control_satisfaction: control_satisfaction,
					control1: control1,
					control2: control2,
					control3: control3,
					control4: control4,
					control5: control5,
					control6: control6,
					round: round,
					id: id};
		$.ajax({
			type: 'POST',
			url: '/controlsurvey_post',
			data: data,
			success: function(data) {
				// $('#continue').prop('disabled', false);
				// $('#continue').removeClass('btn-secondary');
				// $('#continue').addClass('btn-primary');

				var next_url = data.url;
				// $('#continue').on('click', function() {
					window.location = next_url;
				// });
			}
		});
		return false;
	});

</script>

{% endblock %}
