{% extends 'juries/base.html' %}
{% load staticfiles %}


{% block content %}


<nav class="navbar navbar-expand-sm fixed-bottom panel justify-content-end">
	<button class="btn btn-lg btn-primary" id="continue">Continue when completed</button>
</nav>

<main class="flex-shrink-0" role="main">
	<section class="container-fluid">
		<h3>Please complete the survey before continuing</h3>

		<hr />

		<p>In this round, the Jury Process you saw was <b class="yellow">Deliberating</b>, chatting with a jury of 6 individuals before voting. You were freely allowed to change your vote during the deliberating and voting process.</p>

		<img src={% static "juries/img/jury_immersive.png" %} alt="Jury process" class="featured" />

		<form class="survey question">
			<div class="form-group">
				<label for="experiment1">Please explain your own decision.</label>

				<textarea rows="3" id="mv1why" placeholder="Why"></textarea>
			</div>

			<div class="form-group">
				<label for="difficulty_control">Did you have any difficulties making a decision for this case?<label>
				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="difficulty_control">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Not at all</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> A Little</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Moderately</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option4" autocomplete="off"> Somewhat</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option5" autocomplete="off"> Very Much</label>
				</div>
			</div>

			<div class="form-group">
				<label for="time_control">Did you feel any time constraints doing this process?<label>
				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="time_control">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Not at all</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> A Little</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Moderately</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option4" autocomplete="off"> Somewhat</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option5" autocomplete="off"> Very Much</label>
				</div>
			</div>

			<div class="form-group">
				<label for="complete9">How satisfied are you with the jury's decision?</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="experiment1">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Not at all</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> A little</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Moderately</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Somewhat</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Very much</label>
				</div>
			</div>

			<div class="form-group">
				<label for="experiment1">How helpful was the conversation in the chatroom round?</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="experiment1">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Not at all</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> A little</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Moderately</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Somewhat</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Very much</label>
				</div>
			</div>

			<div class="form-group">
				<label for="complete9">How much did you trust the opinions of the other jury members?</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="experiment1">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Not at all</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> A little</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Moderately</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Somewhat</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Very much</label>
				</div>
			</div>

			<hr />

			<h3>Please reflect upon the <span class="yellow">process</span> for reaching the jury's <span class="yellow">outcome</span>.</h3>

			<hr />

			<div class="form-group">
				<label for="immersive1">This process is an effective way to protect users from unwanted or toxic content.</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="immersive1">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Strongly Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Neutral</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option4" autocomplete="off"> Agree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option5" autocomplete="off"> Strongly Agree</label>
				</div>
			</div>

			<div class="form-group">
				<label for="immersive2">This process cares about my preferences.</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="immersive2">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Strongly Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Neutral</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option4" autocomplete="off"> Agree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option5" autocomplete="off"> Strongly Agree</label>
				</div>
			</div>

			<div class="form-group">
				<label for="immersive3">This process is fair.</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="immersive3">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Strongly Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Neutral</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option4" autocomplete="off"> Agree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option5" autocomplete="off"> Strongly Agree</label>
				</div>
			</div>

			<div class="form-group">
				<label for="immersive4">This process values individual voices equally.</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="immersive4">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Strongly Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Neutral</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option4" autocomplete="off"> Agree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option5" autocomplete="off"> Strongly Agree</label>
				</div>
			</div>

			<div class="form-group">
				<label for="immersive5">This process improves my trust in content moderation decisions.</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="immersive5">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Strongly Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Neutral</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option4" autocomplete="off"> Agree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option5" autocomplete="off"> Strongly Agree</label>
				</div>
			</div>

			<div class="form-group">
				<label for="immersive6">This process feels like a legitimate exercise of the social media platform's power.</label>

				<div class="btn-group btn-group-toggle" data-toggle="buttons" role="group" id="immersive6">
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option1" autocomplete="off"> Strongly Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option2" autocomplete="off"> Disagree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option3" autocomplete="off"> Neutral</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option4" autocomplete="off"> Agree</label>
					<label class="btn btn-outline-warning"><input type="radio" name="options" id="option5" autocomplete="off"> Strongly Agree</label>
				</div>
			</div>

			<!-- <button type="submit" class="btn btn-primary" id="submit">Submit</button> -->
		</form>
	</section>

</main>

{% endblock %}

{% block js %}

<script>

	$('#continue').on('click', function() {

		var mv1 = $('#immersive1').val();
		var mv2 = $('#immersive2').val();
		var mv3 = $('#immersive3').val();
		var mv4 = $('#immersive4').val();
		var mv5 = $('#immersive5').val();
		var mv6 = $('#immersive6').val();
		var id = getParameterByName('id');

		var csrf = $('#csrf').text();
		var data = {csrfmiddlewaretoken: csrf,
					mv1: mv1,
					mv2: mv2,
					mv3: mv3,
					mv4: mv4,
					mv5: mv5,
					mv6: mv6,
					id: id};
		$.ajax({
			type: 'POST',
			url: '/immersivesurvey_post',
			data: data,
			success: function(data) {
				// $('#continue').prop('disabled', false);
				// $('#continue').removeClass('btn-secondary');
				// $('#continue').addClass('btn-primary');
				var next_url = data.url;
				// $('#continue').on('click', function() {
					window.location = next_url + '&id=' + id;
				//});
			}
		});
		return false;
	});

</script>

{% endblock %}
