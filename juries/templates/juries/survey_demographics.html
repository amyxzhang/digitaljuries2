{% extends 'juries/base.html' %}
{% load staticfiles %}


{% block content %}

	<nav class="navbar navbar-expand-sm fixed-bottom panel justify-content-end">
		<button class="btn btn-lg btn-secondary" disabled id="continue">Continue when completed</button>
	</nav>

<main class="flex-shrink-0" role="main">
	<section class="container-fluid">
		<h3>Tell us about yourself</h3>

		<form>
			<div class="form-group">
		    <label for="ageRange">Age Range</label>
		    <select class="form-control" id="ageRange">
		      <option>18-24</option>
		      <option>25-34</option>
		      <option>35-44</option>
		      <option>45-54</option>
		      <option>55-64</option>
					<option>65-74</option>
					<option>75+</option>
		    </select>
		  </div>

			<div class="form-group">
		    <label for="gender">Gender</label>
		    <select class="form-control" id="gender">
		      <option>Female</option>
		      <option>Male</option>
		      <option>Non-binary</option>
		    </select>
		  </div>

			<div class="form-group">
				<label for="education">Highest completed level of Education</label>
				<select class="form-control" id="education">
					<option>Some high school</option>
					<option>High school graduate</option>
					<option>Some university</option>
					<option>University graduate</option>
					<option>Some graduate/professional degree</option>
					<option>Graduate/professional degree</option>
				</select>
			</div>

		  <!-- <div class="form-group">
			 <label for="zip">Zipcode</label>
			 <input type="text" class="form-control" id="zip" placeholder="00000">
		  </div> -->

			<div class="form-group">
				<label for="political">What do you consider your political affiliation?</label>
				<select class="form-control" id="political">
					<option>Republican</option>
					<option>Democrat</option>
					<option>Libertarian</option>
					<option>Independent</option>
					<option>Other</option>
				</select>
			</div>

			<div class="form-group">
				<label for="engagement">How engaged do you consider yourself with politics?</label>

			  <div class="btn-group" role="group" id="engagement">
			    <button type="button" class="btn btn-secondary">Very disinterested</button>
			    <button type="button" class="btn btn-secondary">Disinterested</button>
			    <button type="button" class="btn btn-secondary">Neutral</button>
			    <button type="button" class="btn btn-secondary">Interested</button>
			    <button type="button" class="btn btn-secondary">Very interested</button>
				</div>
			</div>

		  <button type="submit" class="btn btn-primary" id="submit">Submit</button>
		</form>
	</section>
</main>


{% endblock %}

{% block js %}

<script>
	
	$('#submit').on('click', function() {
		
		var age = $('#ageRange').val();
		var gender = $('#gender').val();
		var education = $('#education').val();
		var political = $('#political').val();
		var engagement = $('#engagement').val();
		var id = getParameterByName('id');
		
		var csrf = $('#csrf').text();
		var data = {csrfmiddlewaretoken: csrf,
					age: age,
					gender: gender,
					education: education,
					political: political,
					engagement: engagement,
					id: id};
		$.ajax({
			type: 'POST',
			url: '/demographics_post', 
			data: data,
			success: function(data) {
				$('#continue').prop('disabled', false);
				$('#continue').removeClass('btn-secondary');
				$('#continue').addClass('btn-primary');
				$('#continue').on('click', function() {
					window.location = '/survey_morals?id=' + id;
				});
			}
		});
		return false;
	});
	
</script>

{% endblock %}
